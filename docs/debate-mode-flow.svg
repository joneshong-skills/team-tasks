<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 720 680" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif">
  <defs>
    <filter id="shadow" x="-4%" y="-4%" width="108%" height="108%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.1"/>
    </filter>
    <marker id="arrow" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-reverse">
      <polygon points="0 0, 10 3.5, 0 7" fill="#8B5CF6"/>
    </marker>
    <marker id="arrow-light" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-reverse">
      <polygon points="0 0, 10 3.5, 0 7" fill="#C4B5FD"/>
    </marker>
    <linearGradient id="bg" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#FAF5FF"/>
      <stop offset="100%" stop-color="#F3E8FF"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="720" height="680" rx="12" fill="url(#bg)"/>

  <!-- Title -->
  <text x="360" y="36" text-anchor="middle" font-size="20" font-weight="700" fill="#1E1B4B">Debate 模式 — 完整流程</text>
  <text x="360" y="56" text-anchor="middle" font-size="12" fill="#7C3AED">多方辯論 → 交叉審查 → 綜合結論</text>

  <!-- ===== STEP 1: Init ===== -->
  <g transform="translate(360, 100)">
    <rect x="-130" y="-18" width="260" height="36" rx="8" fill="#7C3AED" filter="url(#shadow)"/>
    <text x="0" y="6" text-anchor="middle" font-size="13" font-weight="700" fill="white">1. init --mode debate -g "議題"</text>
  </g>
  <line x1="360" y1="118" x2="360" y2="140" stroke="#8B5CF6" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- ===== STEP 2: Add Debaters ===== -->
  <g transform="translate(360, 170)">
    <rect x="-200" y="-22" width="400" height="44" rx="8" fill="white" stroke="#8B5CF6" stroke-width="1.5" filter="url(#shadow)"/>
    <text x="0" y="-2" text-anchor="middle" font-size="12" font-weight="600" fill="#5B21B6">2. add-debater &lt;id&gt; --perspective "觀點角度"</text>
    <text x="0" y="14" text-anchor="middle" font-size="10" fill="#7C3AED">加入 2-5 位辯論者，各帶不同觀點</text>
  </g>

  <!-- Debater examples -->
  <g transform="translate(360, 230)">
    <rect x="-240" y="0" width="140" height="28" rx="6" fill="#EDE9FE" stroke="#C4B5FD" stroke-width="1"/>
    <text x="-170" y="18" text-anchor="middle" font-size="10" fill="#5B21B6">security-expert</text>

    <rect x="-70" y="0" width="140" height="28" rx="6" fill="#EDE9FE" stroke="#C4B5FD" stroke-width="1"/>
    <text x="0" y="18" text-anchor="middle" font-size="10" fill="#5B21B6">perf-expert</text>

    <rect x="100" y="0" width="140" height="28" rx="6" fill="#EDE9FE" stroke="#C4B5FD" stroke-width="1"/>
    <text x="170" y="18" text-anchor="middle" font-size="10" fill="#5B21B6">dx-expert</text>
  </g>

  <line x1="360" y1="268" x2="360" y2="290" stroke="#8B5CF6" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- ===== STEP 3: Round Start ===== -->
  <g transform="translate(360, 316)">
    <rect x="-130" y="-18" width="260" height="36" rx="8" fill="#7C3AED" filter="url(#shadow)"/>
    <text x="0" y="6" text-anchor="middle" font-size="13" font-weight="700" fill="white">3. round start</text>
  </g>
  <line x1="360" y1="334" x2="360" y2="356" stroke="#8B5CF6" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- ===== STEP 4: Submit Positions ===== -->
  <g transform="translate(360, 385)">
    <rect x="-200" y="-22" width="400" height="44" rx="8" fill="white" stroke="#8B5CF6" stroke-width="1.5" filter="url(#shadow)"/>
    <text x="0" y="-2" text-anchor="middle" font-size="12" font-weight="600" fill="#5B21B6">4. round submit -d &lt;id&gt; -t "論點"</text>
    <text x="0" y="14" text-anchor="middle" font-size="10" fill="#7C3AED">每位辯論者提交立場（手動或 claude -p 自動）</text>
  </g>

  <!-- Submit arrows from debaters -->
  <g transform="translate(360, 430)">
    <!-- Three submit boxes -->
    <rect x="-240" y="5" width="140" height="40" rx="6" fill="#F5F3FF" stroke="#DDD6FE" stroke-width="1"/>
    <text x="-170" y="22" text-anchor="middle" font-size="9" font-weight="600" fill="#6D28D9">submit</text>
    <text x="-170" y="36" text-anchor="middle" font-size="8" fill="#7C3AED">"微服務隔離性更好..."</text>

    <rect x="-70" y="5" width="140" height="40" rx="6" fill="#F5F3FF" stroke="#DDD6FE" stroke-width="1"/>
    <text x="0" y="22" text-anchor="middle" font-size="9" font-weight="600" fill="#6D28D9">submit</text>
    <text x="0" y="36" text-anchor="middle" font-size="8" fill="#7C3AED">"單體減少網路開銷..."</text>

    <rect x="100" y="5" width="140" height="40" rx="6" fill="#F5F3FF" stroke="#DDD6FE" stroke-width="1"/>
    <text x="170" y="22" text-anchor="middle" font-size="9" font-weight="600" fill="#6D28D9">submit</text>
    <text x="170" y="36" text-anchor="middle" font-size="8" fill="#7C3AED">"開發體驗最重要..."</text>
  </g>

  <line x1="360" y1="480" x2="360" y2="502" stroke="#8B5CF6" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- ===== STEP 5: Cross Review ===== -->
  <g transform="translate(360, 528)">
    <rect x="-200" y="-18" width="400" height="36" rx="8" fill="white" stroke="#8B5CF6" stroke-width="1.5" filter="url(#shadow)"/>
    <text x="0" y="6" text-anchor="middle" font-size="12" font-weight="600" fill="#5B21B6">5. round cross-review — 每方審查其他人的論點</text>

    <!-- Cross arrows -->
    <line x1="-120" y1="26" x2="-30" y2="26" stroke="#C4B5FD" stroke-width="1" stroke-dasharray="4,3" marker-end="url(#arrow-light)"/>
    <line x1="30" y1="26" x2="120" y2="26" stroke="#C4B5FD" stroke-width="1" stroke-dasharray="4,3" marker-end="url(#arrow-light)"/>
    <line x1="120" y1="32" x2="-120" y2="32" stroke="#C4B5FD" stroke-width="1" stroke-dasharray="4,3" marker-end="url(#arrow-light)"/>
    <text x="0" y="42" text-anchor="middle" font-size="9" fill="#A78BFA" font-style="italic">互相審查、反駁、補充</text>
  </g>

  <line x1="360" y1="580" x2="360" y2="600" stroke="#8B5CF6" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- ===== STEP 6: Synthesize ===== -->
  <g transform="translate(360, 628)">
    <rect x="-160" y="-20" width="320" height="40" rx="8" fill="#7C3AED" filter="url(#shadow)"/>
    <text x="0" y="5" text-anchor="middle" font-size="13" font-weight="700" fill="white">6. round synthesize — 產出綜合結論</text>
  </g>

  <!-- Side annotations -->
  <g transform="translate(30, 100)">
    <rect width="80" height="24" rx="4" fill="#F5F3FF"/>
    <text x="40" y="16" text-anchor="middle" font-size="10" font-weight="600" fill="#7C3AED">CLI 指令</text>
  </g>
  <g transform="translate(30, 130)">
    <rect width="80" height="24" rx="4" fill="white" stroke="#C4B5FD" stroke-width="1"/>
    <text x="40" y="16" text-anchor="middle" font-size="10" font-weight="600" fill="#7C3AED">互動步驟</text>
  </g>
  <g transform="translate(30, 160)">
    <rect width="80" height="24" rx="4" fill="#EDE9FE" stroke="#C4B5FD" stroke-width="1"/>
    <text x="40" y="16" text-anchor="middle" font-size="10" font-weight="600" fill="#7C3AED">辯論者</text>
  </g>
</svg>
